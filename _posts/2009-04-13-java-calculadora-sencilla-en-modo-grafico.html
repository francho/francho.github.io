---
layout: post
title: 'Java: Calculadora sencilla en modo gráfico'
date: 2009-04-13 00:04:34.000000000 +02:00
categories:
- Java
tags:
- ejercicios
- Java
status: publish
type: post
published: true
meta:
  _edit_last: '239693'
  _syntaxhighlighter_encoded: '1'
  _wpas_skip_twitter: '1'
  _oembed_2e137ee4647d725605cfd9d8c093a668: "{{unknown}}"
  _oembed_333c813adfa60e0b05ae7dc72e8e099c: "{{unknown}}"
  twitter_cards_summary_img_size: a:6:{i:0;i:364;i:1;i:414;i:2;i:3;i:3;s:24:"width="364"
    height="414"";s:4:"bits";i:8;s:4:"mime";s:9:"image/png";}
author:
  login: francho

  display_name: francho
  first_name: ''
  last_name: ''
excerpt: !ruby/object:Hpricot::Doc
  options: {}
---
<p><a href="https://franchojoven.files.wordpress.com/2009/04/calculadora_sencilla_java.png"><img src="/assets/calculadora_sencilla_java.png" alt="" title="calculadora_sencilla_java" width="263" height="300" class="aligncenter size-medium wp-image-1092" /></a><br />
Esta es una calculadora sencilla en modo gráfico escrita en Java.</p>
<p>Implementa las operaciones básicas: sumar, restar, multiplicar y dividir</p>
<p><!--more--><br />
<strong>Main.java</strong></p>
<p>[code lang="java"]<br />
/**<br />
 * By Francho Joven - http://francho.org/lab/<br />
 *<br />
 * This work is licensed under the Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License.<br />
 * To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-sa/3.0/<br />
 * or send a letter to Creative Commons, 171 Second Street, Suite 300, San Francisco, California, 94105, USA.<br />
 *<br />
 */</p>
<p>package org.francho.java.calculadora;</p>
<p>/**<br />
 * Ejercicio: Calculadora sencilla - Implementar la Interfaz de usuario -<br />
 * Implementar los mtodos siguientes a través de los listeners adecuados: -<br />
 * Sumar - Restar - Multiplicar - Dividir<br />
 *<br />
 * @author: $Author: franchux $<br />
 * @version: $Rev: 70 $<br />
 * @date: $Date: 2009-04-13 13:06:00 +0200 (lun 13 de abr de 2009) $ $Id:<br />
 *        Main.java 70 2009-04-13 11:06:00Z franchux $<br />
 */<br />
public class Main {</p>
<p>	/**<br />
	 * @param args the command line arguments<br />
	 */<br />
	public static void main(String[] args) {<br />
		VentanaCalculadora calculadora = new VentanaCalculadora();<br />
		calculadora.setVisible(true);<br />
	}<br />
}</p>
<p>[/code]</p>
<p><strong>VentanaCalculadora.java</strong></p>
<p>[code lang="java"]<br />
/**<br />
 * By Francho Joven - http://francho.org/lab/<br />
 *<br />
 * This work is licensed under the Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License.<br />
 * To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-sa/3.0/<br />
 * or send a letter to Creative Commons, 171 Second Street, Suite 300, San Francisco, California, 94105, USA.<br />
 *<br />
 */<br />
package org.francho.java.calculadora;</p>
<p>import java.awt.BorderLayout;<br />
import java.awt.Color;<br />
import java.awt.Font;<br />
import java.awt.GridLayout;<br />
import java.awt.event.MouseAdapter;<br />
import java.awt.event.MouseEvent;</p>
<p>import javax.swing.JButton;<br />
import javax.swing.JFrame;<br />
import javax.swing.JPanel;<br />
import javax.swing.JTextField;<br />
import javax.swing.WindowConstants;<br />
import javax.swing.border.EmptyBorder;</p>
<p>/**<br />
 *<br />
 * Interfaz para nuestra calculadora sencilla<br />
 *<br />
 * @author: $Author: franchux $<br />
 * @version: $Rev: 75 $<br />
 * @date: $Date: 2009-04-14 00:21:18 +0200 (mar 14 de abr de 2009) $ $Id:<br />
 *        VentanaCalculadora.java 75 2009-04-13 22:21:18Z franchux $<br />
 */<br />
public class VentanaCalculadora extends JFrame {</p>
<p>	/**<br />
	 * generado<br />
	 */<br />
	private static final long serialVersionUID = 1583724102189855698L;</p>
<p>	/** numero tecleado */<br />
	JTextField pantalla;</p>
<p>	/** guarda el resultado de la operacion anterior o el número tecleado */<br />
	double resultado;</p>
<p>	/** para guardar la operacion a realizar */<br />
	String operacion;</p>
<p>	/** Los paneles donde colocaremos los botones */<br />
	JPanel panelNumeros, panelOperaciones;</p>
<p>	/** Indica si estamos iniciando o no una operación */<br />
	boolean nuevaOperacion = true;</p>
<p>	/**<br />
	 * Constructor. Crea los botones y componentes de la calculadora<br />
	 */<br />
	public VentanaCalculadora() {<br />
		super();<br />
		setSize(250, 300);<br />
		setTitle(&quot;Calculadora Simple&quot;);<br />
		setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);<br />
		setResizable(false);</p>
<p>		// Vamos a dibujar sobre el panel<br />
		JPanel panel = (JPanel) this.getContentPane();<br />
		panel.setLayout(new BorderLayout());</p>
<p>		pantalla = new JTextField(&quot;0&quot;, 20);<br />
		pantalla.setBorder(new EmptyBorder(4, 4, 4, 4));<br />
		pantalla.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 25));<br />
		pantalla.setHorizontalAlignment(JTextField.RIGHT);<br />
		pantalla.setEditable(false);<br />
		pantalla.setBackground(Color.WHITE);<br />
		panel.add(&quot;North&quot;, pantalla);</p>
<p>		panelNumeros = new JPanel();<br />
		panelNumeros.setLayout(new GridLayout(4, 3));<br />
		panelNumeros.setBorder(new EmptyBorder(4, 4, 4, 4));</p>
<p>		for (int n = 9; n &gt;= 0; n--) {<br />
			nuevoBotonNumerico(&quot;&quot; + n);<br />
		}</p>
<p>		nuevoBotonNumerico(&quot;.&quot;);</p>
<p>		panel.add(&quot;Center&quot;, panelNumeros);</p>
<p>		panelOperaciones = new JPanel();<br />
		panelOperaciones.setLayout(new GridLayout(6, 1));<br />
		panelOperaciones.setBorder(new EmptyBorder(4, 4, 4, 4));</p>
<p>		nuevoBotonOperacion(&quot;+&quot;);<br />
		nuevoBotonOperacion(&quot;-&quot;);<br />
		nuevoBotonOperacion(&quot;*&quot;);<br />
		nuevoBotonOperacion(&quot;/&quot;);<br />
		nuevoBotonOperacion(&quot;=&quot;);<br />
		nuevoBotonOperacion(&quot;CE&quot;);</p>
<p>		panel.add(&quot;East&quot;, panelOperaciones);</p>
<p>		validate();<br />
	}</p>
<p>	/**<br />
	 * Crea un boton del teclado numérico y enlaza sus eventos con el listener<br />
	 * correspondiente<br />
	 *<br />
	 * @param digito<br />
	 *            boton a crear<br />
	 */<br />
	private void nuevoBotonNumerico(String digito) {<br />
		JButton btn = new JButton();<br />
		btn.setText(digito);<br />
		btn.addMouseListener(new MouseAdapter() {</p>
<p>			@Override<br />
			public void mouseReleased(MouseEvent evt) {<br />
				JButton btn = (JButton) evt.getSource();<br />
				numeroPulsado(btn.getText());<br />
			}<br />
		});</p>
<p>		panelNumeros.add(btn);<br />
	}</p>
<p>	/**<br />
	 * Crea un botón de operacion y lo enlaza con sus eventos.<br />
	 *<br />
	 * @param operacion<br />
	 */<br />
	private void nuevoBotonOperacion(String operacion) {<br />
		JButton btn = new JButton(operacion);<br />
		btn.setForeground(Color.RED);</p>
<p>		btn.addMouseListener(new MouseAdapter() {</p>
<p>			@Override<br />
			public void mouseReleased(MouseEvent evt) {<br />
				JButton btn = (JButton) evt.getSource();<br />
				operacionPulsado(btn.getText());<br />
			}<br />
		});</p>
<p>		panelOperaciones.add(btn);<br />
	}</p>
<p>	/**<br />
	 * Gestiona las pulsaciones de teclas numéricas<br />
	 *<br />
	 * @param digito<br />
	 *            tecla pulsada<br />
	 */<br />
	private void numeroPulsado(String digito) {<br />
		if (pantalla.getText().equals(&quot;0&quot;) || nuevaOperacion) {<br />
			pantalla.setText(digito);<br />
		} else {<br />
			pantalla.setText(pantalla.getText() + digito);<br />
		}<br />
		nuevaOperacion = false;<br />
	}</p>
<p>	/**<br />
	 * Gestiona el gestiona las pulsaciones de teclas de operación<br />
	 *<br />
	 * @param tecla<br />
	 */<br />
	private void operacionPulsado(String tecla) {<br />
		if (tecla.equals(&quot;=&quot;)) {<br />
			calcularResultado();<br />
		} else if (tecla.equals(&quot;CE&quot;)) {<br />
			resultado = 0;<br />
			pantalla.setText(&quot;&quot;);<br />
			nuevaOperacion = true;<br />
		} else {<br />
			operacion = tecla;<br />
			if ((resultado &gt; 0) &amp;&amp; !nuevaOperacion) {<br />
				calcularResultado();<br />
			} else {<br />
				resultado = new Double(pantalla.getText());<br />
			}<br />
		}</p>
<p>		nuevaOperacion = true;<br />
	}</p>
<p>	/**<br />
	 * Calcula el resultado y lo muestra por pantalla<br />
	 */<br />
	private void calcularResultado() {<br />
		if (operacion.equals(&quot;+&quot;)) {<br />
			resultado += new Double(pantalla.getText());<br />
		} else if (operacion.equals(&quot;-&quot;)) {<br />
			resultado -= new Double(pantalla.getText());<br />
		} else if (operacion.equals(&quot;/&quot;)) {<br />
			resultado /= new Double(pantalla.getText());<br />
		} else if (operacion.equals(&quot;*&quot;)) {<br />
			resultado *= new Double(pantalla.getText());<br />
		}</p>
<p>		pantalla.setText(&quot;&quot; + resultado);<br />
		operacion = &quot;&quot;;<br />
	}<br />
}<br />
[/code]</p>
<p>Actualización 11-11-2011: Subido el código del proyecto a Github<br />
Proyecto completo: <a href="https://github.com/francho/francho.org-lab/tree/master/0045-CalculadoraJavaGrafica">https://github.com/francho/francho.org-lab/tree/master/0045-CalculadoraJavaGrafica</a></p>
