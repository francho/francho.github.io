---
layout: post
title: 'Truco Android: menú compartir'
date: 2010-04-29 18:53:56.000000000 +02:00
categories:
- android
- Programación
tags:
- android
- bluethooth
- facebook
- gmail
- sms
- social
- tip
- twitter
status: publish
type: post
published: true
meta:
  _edit_last: '2'
  _syntaxhighlighter_encoded: '1'
  reddit: a:2:{s:5:"count";i:0;s:4:"time";i:1412784526;}
author:
  login: francho

  display_name: francho
  first_name: ''
  last_name: ''
excerpt: !ruby/object:Hpricot::Doc
  options: {}
---
<p>Hoy en día para ser un 2.0 auténtico hace falta compartir todo ;-) por eso, he decidido añadir esta funcionalidad a alguna de mis aplicaciones Android.</p>
<p>La idea es que cuando el usuario pulse el botón compartir se abra un desplegable con las aplicaciones "sociales" (Twitter, Facebook, email, sms...) que tenga instaladas y a través de ellas suba el contenido (que irá precargado).</p>
<p>Había empezado a programar esa solución, pero buscando un poco me he encontrado con <a href="http://labs.emich.be/2010/01/23/how-to-send-to-twitter-or-facebook-from-your-android-application/">este post</a> que dá una solución muy sencilla y efectiva.</p>
<p>Con la idea de reutilizar el código lo he convertido en una clase estática que puedo llamar directamente desde cualquiera de mis "Activity"</p>
<p>[code lang="java"]<br />
/**<br />
 * Share a content using the user's installed apps<br />
 *<br />
 * Thanks to : http://labs.emich.be/2010/01/23/how-to-send-to-twitter-or-facebook-from-your-android-application/<br />
 *<br />
 * @author http://francho.org/lab/<br />
 *<br />
 */<br />
public class Social {<br />
	/**<br />
	 * Open a contextual Menu with the available applications to share<br />
	 *<br />
	 * @param the Context (to open the menú and the new activity)<br />
	 * @param the subject<br />
	 * @param the text<br />
	 */<br />
	public static void share(Context ctx, String subject,String text) {<br />
		 final Intent intent = new Intent(Intent.ACTION_SEND);</p>
<p>		 intent.setType(&quot;text/plain&quot;);<br />
		 intent.putExtra(Intent.EXTRA_SUBJECT, subject);<br />
		 intent.putExtra(Intent.EXTRA_TEXT, text);</p>
<p>		 ctx.startActivity(Intent.createChooser(intent, ctx.getString(R.string.tit_share)));<br />
		}<br />
}<br />
[/code]</p>
